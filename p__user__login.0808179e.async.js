(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"3T1H":function(D,M,a){"use strict";a.r(M);var oe=a("DYRE"),W=a("zeV3"),le=a("Znn+"),U=a("ZTPi"),ie=a("miYZ"),h=a("tsqr"),S=a("o0o1"),u=a.n(S),g=a("VTBJ"),f=a("HaE+"),R=a("ODXe"),ue=a("fOrg"),N=a("+KLJ"),j=a("cJ7L"),x=a("MGYb"),z=a("FQ2w"),G=a("cGnJ"),J=a("Y0UT"),Y=a("80zm"),$=a("CZrw"),P=a("q1tI"),e=a.n(P),V=a("VMEa"),O=a("Qurx"),Z=a("/aGu"),H=a("tneF"),r=a("9kvl"),Q=a("uYtH"),X=a("CwrG"),y=a("63rs"),w=a("UTd0"),_=a.n(w),B=function(d){var m=d.content;return e.a.createElement(N.a,{style:{marginBottom:24},message:m,type:"error",showIcon:!0})},k=function(){if(!r.e)return;setTimeout(function(){var d=r.e.location.query,m=d,v=m.redirect;r.e.push(v||"/")},10)},q=function(){var d=Object(P.useState)(!1),m=Object(R.a)(d,2),v=m[0],I=m[1],ee=Object(P.useState)({}),L=Object(R.a)(ee,2),T=L[0],ae=L[1],te=Object(P.useState)("account"),F=Object(R.a)(te,2),p=F[0],_e=F[1],A=Object(r.i)("@@initialState"),c=A.initialState,re=A.setInitialState,l=Object(r.h)(),ne=function(){var i=Object(f.a)(u.a.mark(function n(){var s,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c==null||((s=c.fetchUserInfo)===null||s===void 0)?void 0:s.call(c);case 2:o=t.sent,o&&re(Object(g.a)(Object(g.a)({},c),{},{currentUser:o}));case 4:case"end":return t.stop()}},n)}));return function(){return i.apply(this,arguments)}}(),se=function(){var i=Object(f.a)(u.a.mark(function n(s){var o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return I(!0),t.prev=1,t.next=4,Object(y.a)(Object(g.a)(Object(g.a)({},s),{},{type:p}));case 4:if(o=t.sent,!(o.status==="ok")){t.next=11;break}return h.b.success("\u767B\u5F55\u6210\u529F\uFF01"),t.next=9,ne();case 9:return k(),t.abrupt("return");case 11:ae(o),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),h.b.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");case 17:I(!1);case 18:case"end":return t.stop()}},n,null,[[1,14]])}));return function(s){return i.apply(this,arguments)}}(),b=T.status,K=T.type;return e.a.createElement("div",{className:_.a.container},e.a.createElement("div",{className:_.a.lang},r.b&&e.a.createElement(r.b,null)),e.a.createElement("div",{className:_.a.content},e.a.createElement("div",{className:_.a.top},e.a.createElement("div",{className:_.a.header},e.a.createElement(Q.a,{to:"/"},e.a.createElement("img",{alt:"logo",className:_.a.logo,src:"/logo.svg"}),e.a.createElement("span",{className:_.a.title},"Ant Design"))),e.a.createElement("div",{className:_.a.desc},"Ant Design \u662F\u897F\u6E56\u533A\u6700\u5177\u5F71\u54CD\u529B\u7684 Web \u8BBE\u8BA1\u89C4\u8303")),e.a.createElement("div",{className:_.a.main},e.a.createElement(V.a,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:l.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(n,s){return s.pop()},submitButtonProps:{loading:v,size:"large",style:{width:"100%"}}},onFinish:function(){var i=Object(f.a)(u.a.mark(function n(s){return u.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:se(s);case 1:case"end":return E.stop()}},n)}));return function(n){return i.apply(this,arguments)}}()},e.a.createElement(U.a,{activeKey:p,onChange:_e},e.a.createElement(U.a.TabPane,{key:"account",tab:l.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})}),e.a.createElement(U.a.TabPane,{key:"mobile",tab:l.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"\u624B\u673A\u53F7\u767B\u5F55"})})),b==="error"&&K==="account"&&e.a.createElement(B,{content:l.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF\uFF08admin/ant.design)"})}),p==="account"&&e.a.createElement(e.a.Fragment,null,e.a.createElement(O.a,{name:"username",fieldProps:{size:"large",prefix:e.a.createElement(j.a,{className:_.a.prefixIcon})},placeholder:l.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:e.a.createElement(r.a,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),e.a.createElement(O.a.Password,{name:"password",fieldProps:{size:"large",prefix:e.a.createElement(x.a,{className:_.a.prefixIcon})},placeholder:l.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:e.a.createElement(r.a,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})),b==="error"&&K==="mobile"&&e.a.createElement(B,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),p==="mobile"&&e.a.createElement(e.a.Fragment,null,e.a.createElement(O.a,{fieldProps:{size:"large",prefix:e.a.createElement(z.a,{className:_.a.prefixIcon})},name:"mobile",placeholder:l.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:e.a.createElement(r.a,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:e.a.createElement(r.a,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),e.a.createElement(Z.a,{fieldProps:{size:"large",prefix:e.a.createElement(G.a,{className:_.a.prefixIcon})},captchaProps:{size:"large"},placeholder:l.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(n,s){return n?"".concat(s," ").concat(l.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):l.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:e.a.createElement(r.a,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var i=Object(f.a)(u.a.mark(function n(s){var o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.b)(s);case 2:if(o=t.sent,!(o===!1)){t.next=5;break}return t.abrupt("return");case 5:h.b.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return t.stop()}},n)}));return function(n){return i.apply(this,arguments)}}()})),e.a.createElement("div",{style:{marginBottom:24}},e.a.createElement(H.a,{noStyle:!0,name:"autoLogin"},e.a.createElement(r.a,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})),e.a.createElement("a",{style:{float:"right"}},e.a.createElement(r.a,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})))),e.a.createElement(W.b,{className:_.a.other},e.a.createElement(r.a,{id:"pages.login.loginWith",defaultMessage:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"}),e.a.createElement(J.a,{className:_.a.icon}),e.a.createElement(Y.a,{className:_.a.icon}),e.a.createElement($.a,{className:_.a.icon})))),e.a.createElement(X.a,null))};M.default=q},UTd0:function(D,M,a){D.exports={container:"container___2XU-J",lang:"lang___3UZBu",content:"content___232he",top:"top___2e5qd",header:"header___1G_uO",logo:"logo___2RIUt",title:"title___3xYCK",desc:"desc___1GQtf",main:"main___oMoRI",icon:"icon___1dSHb",other:"other___3ljbI",register:"register___1vN_i",prefixIcon:"prefixIcon___57iuX"}}}]);
